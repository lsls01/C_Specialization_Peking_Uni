"use strict";define("bundles/ondemand/components/programming/ProgrammingInstructions",["require","exports","module","q","react-with-addons","bundles/phoenix/components/OrigamiRegion","bundles/phoenix/lib/waitForStores","bundles/programming/promises/immediate/instructions","bundles/programming/promises/learnerAssignment","bundles/programming/views/instructions","bundles/verificationDisplay/models/verificationDisplay","pages/open-course/common/models/itemMetadata"],function(require,exports,module){var i=require("q"),e=require("react-with-addons"),t=require("bundles/phoenix/components/OrigamiRegion"),n=require("bundles/phoenix/lib/waitForStores"),s=require("bundles/programming/promises/immediate/instructions"),a=require("bundles/programming/promises/learnerAssignment"),r=require("bundles/programming/views/instructions"),o=require("bundles/verificationDisplay/models/verificationDisplay"),m=require("pages/open-course/common/models/itemMetadata"),p=e.createClass({displayName:"ProgrammingInstructions",propTypes:{itemMetadata:e.PropTypes.instanceOf(m).isRequired,verificationDisplay:e.PropTypes.instanceOf(o).isRequired},getInitialState:function getInitialState(){return{instructions:null,learnerAssignment:null}},componentDidMount:function componentDidMount(){this.fetchData()},fetchData:function fetchData(){var e=this;if("programming"===this.props.itemMetadata.getTypeName()){var t=s({itemMetadata:this.props.itemMetadata,courseId:this.props.itemMetadata.get("course.id"),itemId:this.props.itemMetadata.get("id")});i(t).then(function(i){e.setState({instructions:i})})}else{var n=a({itemMetadata:this.props.itemMetadata});i(n).then(function(i){e.setState({instructions:i.submissionLearnerSchema.get("instructions"),learnerAssignment:i})})}},render:function render(){var i={itemMetadata:this.props.itemMetadata,instructions:this.state.instructions,learnerAssignment:this.state.learnerAssignment,verificationDisplay:this.props.verificationDisplay};return e.createElement("div",{className:"rc-ProgrammingInstructions"},this.state.instructions&&e.createElement(t,{viewOptions:i,ViewClass:r,renderOnce:!0}))}});module.exports=n(p,["VerificationStore"],function(e){var i=e.VerificationStore;return{verificationDisplay:i.getVerificationDisplay()}})});